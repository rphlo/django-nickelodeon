{% load i18n %}{% load url from future %}{% load staticfiles %}<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="handheldFriendly" content="true">
    <link rel="icon" href="icons/favicon.ico">
    <title>Backbone JukeBox</title>
    <!-- Bootstrap core CSS -->
    <link href="{% static 'vendor/bootstrap/3.2.0/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/font-awesome/4.2.0/css/font-awesome.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/enscroll/0.6.1/enscroll.css' %}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{% static 'nickelodeon/app.css' %}" rel="stylesheet">
  </head>
  <body>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation" id="main_navbar">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">rphl.net JukeBox</a>
        </div>
        <div class="collapse navbar-collapse navbar-responsive-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> Account<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/rphl">Dashboard</a></li>
                <li><a href="/dashboard/">Preferences</a></li>
                <li class="divider"></li>
                <li><a href="/logout/">Logout</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <!-- Begin page content -->
    <div id="main_div">
      <div class="container" >
        <div class="row" id="main_container" style="padding-top:15px">
          <div class="col-md-4 col-sm-12" id="jukebox_div">
            <p>
              <kbd id="current_song_display" class="span-12" style="display:block; width:auto; white-space:nowrap;overflow: hidden; text-overflow:ellipsis">Unknow</kbd>
            </p>
            <div>
              <div class="btn-group">
                <a role="button" class="btn btn-sm btn-default" id="prev_button">
                  <i class="fa fa-backward"></i>
                </a>
                <a role="button" class="btn btn-sm btn-default" id="play_pause_button">
                  <i class="fa fa-play"></i>
                </a>
                <a role="button" class="btn btn-sm btn-default" id="next_button">
                  <i class="fa fa-forward"></i>
                </a>
              </div>
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-default active" id="use_aac_button">AAC</button>
                <button type="button" class="btn btn-sm btn-default" id="use_mp3_button">MP3</button>
              </div>
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                  <i class="fa fa-plus"></i>
                </button>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="#" id="stop_next_button"><i class="fa fa-lg fa-stop"></i> Stop after current</a></li>
                  <li><a href="#" id="stop_end_queue_button"><i class="fa fa-lg fa-stop"></i> Stop at the end of the queue</a></li>
                  <li><a href="#" id="edit_current_button"><i class="fa fa-lg fa-edit"></i> Edit details</a></li>
                  <li><a href="#" id="youtube_import_button"><i class="fa fa-lg fa-youtube"></i> Import from YouTube</a></li>
                </ul>
              </div>
            </div>
            <div style="padding-top:5px;">
              <div id="full_progress_bar" class="progress">
                <div id="progress_bar" class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                  <span id="progress_bar_text" style="color:#666;padding:5px">00:00/00:00</span>
                </div>
              </div>
            </div>
            <div class="input-group" style="margin-top:-15px;margin-bottom:15px;">
              <input id="search_input" type="text" class="form-control" placeholder="Search"/>
              <span class="input-group-btn">
                <button id="start_search_button" class="btn btn-default" type="button">Search <i class="fa fa-search"></i></button>
              </span>
            </div>
          </div>
          <div class="col-md-8 col-sm-12">
            <ul class="nav nav-tabs small" role="tablist" id="tab_selector">
              <li class="active"><a href="#queueTab" role="tab" data-toggle="tab"><i class="fa fa-database"></i> Queue</a></li>
              <li><a href="#historyTab" role="tab" data-toggle="tab"><i class="fa fa-book"></i> History</a></li>
              <li><a href="#searchTab" role="tab" data-toggle="tab"><i class="fa fa-search"></i> Search results</a></li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane scrollable" id="searchTab">
                <div>
                  <table class="table table-striped" id="search_results_table">
                    <tr><td>No search so far.</td></tr>
                  </table>
                </div>
              </div>
              <div class="tab-pane scrollable active" id="queueTab">
                <div>
                  <table class="table table-striped" id="play_queue_table">
                    <tr><td><i class="fa fa-random"></i> Random</td></tr>
                  </table>
                </div>
              </div>
              <div class="tab-pane scrollable" id="historyTab">
                <div>
                  <table class="table table-striped" id="play_history_table">
                    <tr><td>No history so far.</td></tr>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer" id="main_footer">
        <div class="container">
          <p class="text-muted text-center">rphl.net &copy; 2014 Rapha&euml;l Stefanini</p>
        </div>
      </div>
    </div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="{% static 'vendor/jquery/2.1.1/jquery-2.1.1.min.js' %}"></script>
    <script src="{% static 'vendor/jstorage/0.4.12/jstorage.min.js' %}"></script>
    <script src="{% static 'vendor/jquery-backstretch/2.0.4/jquery.backstretch.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/3.3.0/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'vendor/enscroll/0.6.1/enscroll-0.6.1.min.js' %}"></script>
    <script src="{% static 'vendor/underscore/1.7.0/underscore-min.js' %}"></script>
    <script src="{% static 'vendor/backbone/1.1.2/backbone-min.js' %}"></script>
    <script src="{% static 'vendor/soundmanager2/v297a-20140901/script/soundmanager2-nodebug-jsmin.js' %}"></script>
    <script src="{% static 'nickelodeon/app.js' %}"></script>
    <script>
      (function($){
        $(window).load(function(){
          // Console Decoration
          console.log('\n                          ___        ____\n                         /   \\      /   /\n      ________ _______  /    /___  /   /                     ___\n     /        /       \\/         \\/   /       ______  ____  /  /_\n    /     ___/__      /    _     /   /       /  __  \\/ _  \\/  __/\n   /    /   ___/     /    / /   /    \\__ __ /  / /  / ____/  /\n   \\___/   /     ___/\\___/  \\__/\\______//_//__/ /__/\\_____\\___\\\n          /    /\n          \\___/                            https://www.rphl.net/\n\n');
          
          // apply enscroll
          $('#tab_selector a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
            $(window).trigger('resize');
          });
          $('.scrollable').each(
            function(ii){
              $(this).enscroll({
                verticalTrackClass: 'enscroll_track',
                verticalHandleClass: 'enscroll_handle'
              });
            }
          );
          
          // Vertical height adjustement
          var on_resize = function(){
            var height = $(window).height() - ($('#main_navbar').height() + $('#main_footer').height());
            var width = $(window).width();
            $('#main_container').css('height', height+'px');//, "width":"100%"});
            $('#main_div').css('height', height+'px');
            var boxheight = $(window).height() - ($('.tab-pane.active').offset().top  + $('#main_footer').height());
            $('.tab-pane.active').css('height', boxheight+'px')
            $('.tab-pane.active').css('width', '100%')
          };
          $(window).on('resize', on_resize).trigger('resize');
          
          // Background
          $.backstretch("{% static 'nickelodeon/wallpaper.jpg' %}");
          
          // App
          var app = JukeBox("{% static 'vendor/soundmanager2/v297a-20140901/swf/' %}");
        });
      })(jQuery);
    </script>
  </body>
</html>
